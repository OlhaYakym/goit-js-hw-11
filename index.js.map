{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// import { loader } from '../main';\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nexport function createGallery(images) {\n  //   console.log('createGallery', images);\n  \n  const markup = images\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      return `<li class=\"gallery-item\"><a href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            <div class='item-footer'>\n            <p><b>likes</b> ${likes}</p>\n            <p><b>views</b> ${views}</p>\n            <p><b>comments</b> ${comments}</p>\n            <p><b>downloads</b> ${downloads}</p>\n            </div>\n        </a>\n       \n        </li>`;\n    })\n    .join('');\n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\nexport function clearGallery() {\n  gallery.innerHTML = '';\n  \n}\n\n\nexport function showLoader() {\n  loader.classList.remove('hidden-loader');\n  \n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden-loader');\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {});\n","import axios from 'axios';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { hideLoader } from './render-functions';\n\nconst PIXABAY_API_KEY = '49764635-55321af1e157f58385cb56e9b';\nconst PIXABAY_API_URL = 'https://pixabay.com/api/';\nconst PIXABAY_PARAMS = {\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get(\n      `${PIXABAY_API_URL}?key=${PIXABAY_API_KEY}&q=${query}&image_type=${PIXABAY_PARAMS.image_type}&orientation=${PIXABAY_PARAMS.orientation}&safesearch=${PIXABAY_PARAMS.safesearch}`\n    )\n    .then(response => {\n      return response.data;\n    })\n    .catch(error => {\n      console.error('Error fetching data from Pixabay:', error);\n    });\n}\n","import iziToast from 'izitoast';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { clearGallery, createGallery, hideLoader, showLoader } from './js/render-functions';\nconst form = document.querySelector('.form');\n\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = form.elements['search-text'].value;\n  clearGallery();\n  if (query === '') { \n    iziToast.error({\n      message: 'Please enter a search query!',\n      position: 'topCenter',\n      timeout: 3000\n    });\n    return;\n  }\n  // console.log('submit', event.target.elements['search-text'].value);\n  showLoader();\n  const data = getImagesByQuery(query);\n  data.then(response => {\n    if (response.hits.length === 0) {\n      iziToast.error({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topCenter',\n        timeout: 3000\n      });\n      return;\n    }\n    createGallery(response.hits);\n  }).catch(() => {\n    iziToast.error({ message: \"Error fetching data from Pixabay\", position: 'topCenter', timeout: 3000 });\n  })\n    .finally(() => {\n      hideLoader();\n    });\n  form.reset();\n});"],"names":["gallery","loader","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","clearGallery","showLoader","hideLoader","SimpleLightbox","PIXABAY_API_KEY","PIXABAY_API_URL","PIXABAY_PARAMS","getImagesByQuery","query","axios","response","error","form","event","iziToast"],"mappings":"owBAKA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACxC,SAASC,EAAcC,EAAQ,CAGpC,MAAMC,EAASD,EACZ,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1D,qCAAqCL,CAAa;AAAA,8CACjBD,CAAY,UAAUE,CAAI;AAAA;AAAA,8BAE1CC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA;AAAA;AAAA,cAKtC,EACA,KAAK,EAAE,EACVX,EAAQ,UAAYI,EACpBQ,EAAS,QAAO,CAClB,CACO,SAASC,GAAe,CAC7Bb,EAAQ,UAAY,EAEtB,CAGO,SAASc,GAAa,CAC3Bb,EAAO,UAAU,OAAO,eAAe,CAEzC,CAEO,SAASc,GAAa,CAC3Bd,EAAO,UAAU,IAAI,eAAe,CACtC,CAEA,MAAMW,EAAW,IAAII,EAAe,aAAc,EAAE,ECpC9CC,EAAkB,qCAClBC,EAAkB,2BAClBC,EAAiB,CACrB,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEO,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IACC,GAAGJ,CAAe,QAAQD,CAAe,MAAMI,CAAK,eAAeF,EAAe,UAAU,gBAAgBA,EAAe,WAAW,eAAeA,EAAe,UAAU,EAC/K,EACA,KAAKI,GACGA,EAAS,IACjB,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,oCAAqCA,CAAK,CAC9D,CAAK,CACL,CCvBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAG3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAML,EAAQI,EAAK,SAAS,aAAa,EAAE,MAE3C,GADAZ,IACIQ,IAAU,GAAI,CAChBM,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,YACV,QAAS,GACf,CAAK,EACD,MACD,CAEDb,IACaM,EAAiBC,CAAK,EAC9B,KAAKE,GAAY,CACpB,GAAIA,EAAS,KAAK,SAAW,EAAG,CAC9BI,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,YACV,QAAS,GACjB,CAAO,EACD,MACD,CACDzB,EAAcqB,EAAS,IAAI,CAC/B,CAAG,EAAE,MAAM,IAAM,CACbI,EAAS,MAAM,CAAE,QAAS,mCAAoC,SAAU,YAAa,QAAS,GAAI,CAAE,CACxG,CAAG,EACE,QAAQ,IAAM,CACbZ,GACN,CAAK,EACHU,EAAK,MAAK,CACZ,CAAC"}